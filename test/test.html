<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Document</title>
</head>
<body>
    <div class="container">
            <div class="row align-items-start">
                <div class="col">
                    <h5 class="" >I.Family Composition</h5>
                </div>
                <div class="row">
                    <label class="form-check-label col" for="">
                        <b>Name</b>
                    </label>
                    <label class="form-check-label col" for="">
                        <b>Relationship</b>
                    </label>
                    <label class="form-check-label col" for="">
                        <b>Age</b>
                    </label>
                    <label class="form-check-label col" for="">
                        <b>Civil Status</b>
                    </label>
                    <label class="form-check-label col" for="">
                        <b>Educational Attainment</b>
                    </label>
                    <label class="form-check-label col" for="">
                        <b>Occupation</b>
                    </label>
                    <label class="form-check-label col" for="">
                        <b>Monthly Income</b>
                    </label>       
                    <label for="" class="col"></label>             
                </div>
                <div class="family-list">
                    <div class="row family-data" id="duplicater">
                        <input type="text" class="form-control col" name="family-composition-name[]" id="">
                        <input type="text" class="form-control col" name="family-composition-relationship[]" id="">
                        <input type="text" class="form-control col" name="family-composition-age[]" id="">
                        <select class="col form-select" id="id-type" name="family-composition-civil-status[]" id="">
                            <option disabled selected value="">Please Select</option>
                            <option value="Single">Single</option>
                            <option value="Annulled">Annulled</option>
                            <option value="Widow">Widow/Widower</option>
                            <option value="Married">Married</option>
                            <option value="Separated">Separated</option>
                        </select>
                        <input type="text" class="form-control col" name="family-composition-educ-attainment[]" id="">
                        <input type="text" class="form-control col" name="family-composition-occupation[]" id="">
                        <input type="text" class="form-control col" name="family-composition-monthly-income[]" id="">
                        <button type="button" class="btn btn-danger delete col" onclick="deleteDiv(this)">Delete</button>
                    </div>
                    <div class="row family-data" id="duplicater">
                        <input type="text" class="form-control col" name="family-composition-name[]" id="">
                        <input type="text" class="form-control col" name="family-composition-relationship[]" id="">
                        <input type="text" class="form-control col" name="family-composition-age[]" id="">
                        <select class="col form-select" id="id-type" name="family-composition-civil-status[]" id="">
                            <option disabled selected value="">Please Select</option>
                            <option value="Single">Single</option>
                            <option value="Annulled">Annulled</option>
                            <option value="Widow">Widow/Widower</option>
                            <option value="Married">Married</option>
                            <option value="Separated">Separated</option>
                        </select>
                        <input type="text" class="form-control col" name="family-composition-educ-attainment[]" id="">
                        <input type="text" class="form-control col" name="family-composition-occupation[]" id="">
                        <input type="text" class="form-control col" name="family-composition-monthly-income[]" id="">
                        <button type="button" class="btn btn-danger delete col" onclick="deleteDiv(this)">Delete</button>
                    </div>
                </div>
                <button class="btn add-family btn-primary m-1" type="button" id="add-family" onlick="duplicate();">Add</button>
                <div class="text-center ins">
                    <h6>(Include all family members and other members of the household.)</h6>
                </div>
            </div>
            <!-- <input type="submit" value="Submit" name="submit"> -->
    </div>
    <script>
        
        document.getElementById('add-family').onclick = duplicate;
        function duplicate() {
            var parent = document.getElementsByClassName('family-list');
            var original = document.getElementById('duplicater');
            var clone = original.cloneNode(true);
            original.parentNode.appendChild(clone);
        }

        function deleteDiv(button) {
            const countAll = document.querySelectorAll('#duplicater').length;
            alert(countAll);
            if (countAll > 1) {
                $(button).parent().closest('div').remove();
            }
        }
        // $(".delete").click(function () {
        //     const countAll = document.querySelectorAll('#duplicater').length;
        //     if (countAll > 1) {
        //         $(this).parent().closest('div').remove();
        //     }
        // });
    </script>
</body>
</html>